<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PySpecTools FAQ &#8212; PySpecTools 4.4.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example Notebooks" href="examples.html" />
    <link rel="prev" title="Installation" href="install.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          PySpecTools</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PySpecTools FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyspectools.spectra.html"><cite>Spectra</cite> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">PySpecTools FAQ</a><ul>
<li><a class="reference internal" href="#creating-an-experiment">Creating an experiment</a></li>
<li><a class="reference internal" href="#creating-an-ftb-file">Creating an FTB file</a></li>
<li><a class="reference internal" href="#instrumental-rfi-removal">Instrumental RFI removal</a></li>
<li><a class="reference internal" href="#report-generation">Report generation</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="install.html" title="Previous Chapter: Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Installation</span>
    </a>
  </li>
  <li>
    <a href="examples.html" title="Next Chapter: Example Notebooks"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Example Notebooks &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/faq.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="pyspectools-faq">
<h1>PySpecTools FAQ<a class="headerlink" href="#pyspectools-faq" title="Permalink to this headline">¶</a></h1>
<p>This lists some of the most commonly used functionality, and most easily
forgotten functions accessible to PySpecTools.</p>
<div class="section" id="creating-an-experiment">
<h2>Creating an experiment<a class="headerlink" href="#creating-an-experiment" title="Permalink to this headline">¶</a></h2>
<p>There are two main ways to create an <code class="docutils literal notranslate"><span class="pre">AssignmentSession</span></code> object, by creating
the class directly, or by using the <code class="docutils literal notranslate"><span class="pre">AssignmentSession.from_ascii()</span></code>
function.</p>
<p>The latter method is a higher-level option, and allows spectra to be read in
directly from a variety of file formats. The former requires you to pass the
spectrum as a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as a positional argument.</p>
</div>
<div class="section" id="creating-an-ftb-file">
<h2>Creating an FTB file<a class="headerlink" href="#creating-an-ftb-file" title="Permalink to this headline">¶</a></h2>
<p>You can create FTB files (batch files used by QtFTM) from two sources,
depending on the type (either u-lines, or an existing catalog file) both of
which wrap around the <code class="docutils literal notranslate"><span class="pre">LineList.to_ftb</span></code> method.</p>
<p>For u-lines, I recommend using the
<code class="docutils literal notranslate"><span class="pre">AssignmentSession.create_uline_ftb_batch</span></code>, or if you want to run a DR batch,
<code class="docutils literal notranslate"><span class="pre">AssignmentSession.create_uline_dr_batch</span></code>. In both cases, there are a few
keyword arguments that allow you to specify the conditions to carry out the
batch, for example, the number of shots (<code class="docutils literal notranslate"><span class="pre">shots</span></code>), the dipole moment used for
the RF attenuation (<code class="docutils literal notranslate"><span class="pre">dipole</span></code>), and the minimum distance between lines
(<code class="docutils literal notranslate"><span class="pre">gap</span></code>).</p>
<p>For other FTB files, say from a <code class="docutils literal notranslate"><span class="pre">.cat</span></code> or <code class="docutils literal notranslate"><span class="pre">.lin</span></code> file, you will want to
create <code class="docutils literal notranslate"><span class="pre">LineList</span></code> objects first and then use the <code class="docutils literal notranslate"><span class="pre">LineList.to_ftb()</span></code>.</p>
</div>
<div class="section" id="instrumental-rfi-removal">
<h2>Instrumental RFI removal<a class="headerlink" href="#instrumental-rfi-removal" title="Permalink to this headline">¶</a></h2>
<p>Strong RFI are common in broadband spectra, which arise from instrument clocks
and other electronic components. The ones that are most prevalent for us in the
McCarthy group are typically identified by two characteristics: often razor
sharp, and many of them occurring at near-integer frequencies that are unlikely
molecular in origin (e.g. 16500.0000 MHz). <code class="docutils literal notranslate"><span class="pre">PySpecTools</span></code> has three approaches
to managing these instrumental artifacts, the simplest being an automatic
removal that looks for near integer frequencies
(<code class="docutils literal notranslate"><span class="pre">pyspectools.spectra.analysis.detect_artifacts</span></code> function).</p>
<p>The next level of complexity is based on calculating sub-harmonics, and
sum/difference-frequency combinations of sub-harmonics, based on some clock
frequency. For our Keysight arbitrary waveform generator, we’ve found the most
prominent artifacts are derived from the 65 GHz clock. The
<code class="docutils literal notranslate"><span class="pre">LineList.from_clock</span></code> method was created for this purpose, which generates
multiples of this clock frequency, and calculates every possible sum/difference
combination of pairs based on this list.
<code class="docutils literal notranslate"><span class="pre">AssignmentSession.process_clock_spurs</span></code> provides an interface to this
function, which will automatically assign features found this way - it is
recommended to run this function at the end of analysis once molecular features
are exhausted, as these clock frequencies can be incredibly dense.</p>
<p>Finally, the most manual method is to create a artifact <code class="docutils literal notranslate"><span class="pre">LineList</span></code> object via
the <code class="docutils literal notranslate"><span class="pre">LineList.from_artifacts</span></code> method. This takes a list of frequencies that
the user specifies, and uses these to assign features as artifacts.</p>
</div>
<div class="section" id="report-generation">
<h2>Report generation<a class="headerlink" href="#report-generation" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve done all the analysis, the fun part begins: writing the damn paper.
The <code class="docutils literal notranslate"><span class="pre">AssignmentSession.finalize_assignments</span></code> function is not as final as it
sounds, and the current behavior is to generate an HTML report for sharing, as
well as an overview. This function will also generate a LaTeX table in the
<code class="docutils literal notranslate"><span class="pre">reports</span></code> folder, which summarizes the findings of your experiment.</p>
<p>Currently, <code class="docutils literal notranslate"><span class="pre">PySpecTools</span></code> does not automatically write the paper for you.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017—2020, Kelvin Lee.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>